---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.2
  name: gateways.core.inference-gateway.com
spec:
  group: core.inference-gateway.com
  names:
    kind: Gateway
    listKind: GatewayList
    plural: gateways
    singular: gateway
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Kubernetes service DNS address
      jsonPath: .status.url
      name: URL
      type: string
    - description: Gateway port
      jsonPath: .spec.server.port
      name: Port
      type: integer
    - description: Configured providers
      jsonPath: .status.providerSummary
      name: Providers
      type: string
    - description: Age of the resource
      jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Gateway is the Schema for the gateways API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: GatewaySpec defines the desired state of Gateway.
            properties:
              a2a:
                description: A2A (Agent-to-Agent) configuration
                properties:
                  agents:
                    description: A2A agents configuration
                    items:
                      description: A2AAgent contains A2A agent configuration
                      properties:
                        healthCheck:
                          description: Health check configuration
                          properties:
                            enabled:
                              default: true
                              description: Enable health checks
                              type: boolean
                            interval:
                              default: 30s
                              description: Health check interval
                              type: string
                            path:
                              default: /health
                              description: Health check path
                              type: string
                          type: object
                        name:
                          description: Agent name
                          type: string
                        url:
                          description: Agent URL
                          type: string
                      required:
                      - name
                      - url
                      type: object
                    type: array
                  enabled:
                    default: false
                    description: Enable A2A integration
                    type: boolean
                  expose:
                    default: false
                    description: Expose A2A endpoints externally
                    type: boolean
                  polling:
                    description: Polling configuration
                    properties:
                      enabled:
                        default: true
                        description: Enable polling
                        type: boolean
                      interval:
                        default: 2s
                        description: Polling interval
                        type: string
                      maxAttempts:
                        default: 30
                        description: Maximum polling attempts
                        format: int32
                        maximum: 1000
                        minimum: 1
                        type: integer
                      timeout:
                        default: 60s
                        description: Polling timeout
                        type: string
                    type: object
                  timeouts:
                    description: A2A client timeouts
                    properties:
                      client:
                        default: 60s
                        description: Client timeout
                        type: string
                    type: object
                type: object
              auth:
                description: Authentication configuration
                properties:
                  enabled:
                    default: false
                    description: Enable authentication
                    type: boolean
                  oidc:
                    description: OIDC configuration
                    properties:
                      clientId:
                        default: inference-gateway-client
                        type: string
                      clientSecretRef:
                        description: Reference to a secret containing the client secret
                        properties:
                          key:
                            description: The key of the secret to select from.  Must
                              be a valid secret key.
                            type: string
                          name:
                            default: ""
                            description: |-
                              Name of the referent.
                              This field is effectively required, but due to backwards compatibility is
                              allowed to be empty. Instances of this type with an empty value here are
                              almost certainly wrong.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            type: string
                          optional:
                            description: Specify whether the Secret or its key must
                              be defined
                            type: boolean
                        required:
                        - key
                        type: object
                        x-kubernetes-map-type: atomic
                      issuerUrl:
                        default: http://keycloak:8080/realms/inference-gateway-realm
                        type: string
                    type: object
                  provider:
                    default: oidc
                    description: Authentication provider type
                    enum:
                    - oidc
                    - jwt
                    - basic
                    type: string
                type: object
              environment:
                default: production
                description: Environment defines the environment type (development,
                  staging, production)
                enum:
                - development
                - staging
                - production
                type: string
              hpa:
                description: HPA (Horizontal Pod Autoscaler) configuration
                properties:
                  config:
                    description: Configures the Horizontal Pod Autoscaler for the
                      gateway deployment
                    properties:
                      behavior:
                        description: |-
                          behavior configures the scaling behavior of the target
                          in both Up and Down directions (scaleUp and scaleDown fields respectively).
                          If not set, the default HPAScalingRules for scale up and scale down are used.
                        properties:
                          scaleDown:
                            description: |-
                              scaleDown is scaling policy for scaling Down.
                              If not set, the default value is to allow to scale down to minReplicas pods, with a
                              300 second stabilization window (i.e., the highest recommendation for
                              the last 300sec is used).
                            properties:
                              policies:
                                description: |-
                                  policies is a list of potential scaling polices which can be used during scaling.
                                  At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid
                                items:
                                  description: HPAScalingPolicy is a single policy
                                    which must hold true for a specified past interval.
                                  properties:
                                    periodSeconds:
                                      description: |-
                                        periodSeconds specifies the window of time for which the policy should hold true.
                                        PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                      format: int32
                                      type: integer
                                    type:
                                      description: type is used to specify the scaling
                                        policy.
                                      type: string
                                    value:
                                      description: |-
                                        value contains the amount of change which is permitted by the policy.
                                        It must be greater than zero
                                      format: int32
                                      type: integer
                                  required:
                                  - periodSeconds
                                  - type
                                  - value
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              selectPolicy:
                                description: |-
                                  selectPolicy is used to specify which policy should be used.
                                  If not set, the default value Max is used.
                                type: string
                              stabilizationWindowSeconds:
                                description: |-
                                  stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                  considered while scaling up or scaling down.
                                  StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                  If not set, use the default values:
                                  - For scale up: 0 (i.e. no stabilization is done).
                                  - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                format: int32
                                type: integer
                            type: object
                          scaleUp:
                            description: |-
                              scaleUp is scaling policy for scaling Up.
                              If not set, the default value is the higher of:
                                * increase no more than 4 pods per 60 seconds
                                * double the number of pods per 60 seconds
                              No stabilization is used.
                            properties:
                              policies:
                                description: |-
                                  policies is a list of potential scaling polices which can be used during scaling.
                                  At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid
                                items:
                                  description: HPAScalingPolicy is a single policy
                                    which must hold true for a specified past interval.
                                  properties:
                                    periodSeconds:
                                      description: |-
                                        periodSeconds specifies the window of time for which the policy should hold true.
                                        PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                      format: int32
                                      type: integer
                                    type:
                                      description: type is used to specify the scaling
                                        policy.
                                      type: string
                                    value:
                                      description: |-
                                        value contains the amount of change which is permitted by the policy.
                                        It must be greater than zero
                                      format: int32
                                      type: integer
                                  required:
                                  - periodSeconds
                                  - type
                                  - value
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              selectPolicy:
                                description: |-
                                  selectPolicy is used to specify which policy should be used.
                                  If not set, the default value Max is used.
                                type: string
                              stabilizationWindowSeconds:
                                description: |-
                                  stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                  considered while scaling up or scaling down.
                                  StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                  If not set, use the default values:
                                  - For scale up: 0 (i.e. no stabilization is done).
                                  - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                format: int32
                                type: integer
                            type: object
                        type: object
                      maxReplicas:
                        description: |-
                          maxReplicas is the upper limit for the number of replicas to which the autoscaler can scale up.
                          It cannot be less that minReplicas.
                        format: int32
                        type: integer
                      metrics:
                        description: |-
                          metrics contains the specifications for which to use to calculate the
                          desired replica count (the maximum replica count across all metrics will
                          be used).  The desired replica count is calculated multiplying the
                          ratio between the target value and the current value by the current
                          number of pods.  Ergo, metrics used must decrease as the pod count is
                          increased, and vice-versa.  See the individual metric source types for
                          more information about how each type of metric must respond.
                          If not set, the default metric will be set to 80% average CPU utilization.
                        items:
                          description: |-
                            MetricSpec specifies how to scale based on a single metric
                            (only `type` and one other matching field should be set at once).
                          properties:
                            containerResource:
                              description: |-
                                containerResource refers to a resource metric (such as those specified in
                                requests and limits) known to Kubernetes describing a single container in
                                each pod of the current scale target (e.g. CPU or memory). Such metrics are
                                built in to Kubernetes, and have special scaling options on top of those
                                available to normal per-pod metrics using the "pods" source.
                              properties:
                                container:
                                  description: container is the name of the container
                                    in the pods of the scaling target
                                  type: string
                                name:
                                  description: name is the name of the resource in
                                    question.
                                  type: string
                                target:
                                  description: target specifies the target value for
                                    the given metric
                                  properties:
                                    averageUtilization:
                                      description: |-
                                        averageUtilization is the target value of the average of the
                                        resource metric across all relevant pods, represented as a percentage of
                                        the requested value of the resource for the pods.
                                        Currently only valid for Resource metric source type
                                      format: int32
                                      type: integer
                                    averageValue:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        averageValue is the target value of the average of the
                                        metric across all relevant pods (as a quantity)
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type:
                                      description: type represents whether the metric
                                        type is Utilization, Value, or AverageValue
                                      type: string
                                    value:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: value is the target value of the
                                        metric (as a quantity).
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - type
                                  type: object
                              required:
                              - container
                              - name
                              - target
                              type: object
                            external:
                              description: |-
                                external refers to a global metric that is not associated
                                with any Kubernetes object. It allows autoscaling based on information
                                coming from components running outside of cluster
                                (for example length of queue in cloud messaging service, or
                                QPS from loadbalancer running outside of cluster).
                              properties:
                                metric:
                                  description: metric identifies the target metric
                                    by name and selector
                                  properties:
                                    name:
                                      description: name is the name of the given metric
                                      type: string
                                    selector:
                                      description: |-
                                        selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                        When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                        When unset, just the metricName will be used to gather metrics.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                  required:
                                  - name
                                  type: object
                                target:
                                  description: target specifies the target value for
                                    the given metric
                                  properties:
                                    averageUtilization:
                                      description: |-
                                        averageUtilization is the target value of the average of the
                                        resource metric across all relevant pods, represented as a percentage of
                                        the requested value of the resource for the pods.
                                        Currently only valid for Resource metric source type
                                      format: int32
                                      type: integer
                                    averageValue:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        averageValue is the target value of the average of the
                                        metric across all relevant pods (as a quantity)
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type:
                                      description: type represents whether the metric
                                        type is Utilization, Value, or AverageValue
                                      type: string
                                    value:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: value is the target value of the
                                        metric (as a quantity).
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - type
                                  type: object
                              required:
                              - metric
                              - target
                              type: object
                            object:
                              description: |-
                                object refers to a metric describing a single kubernetes object
                                (for example, hits-per-second on an Ingress object).
                              properties:
                                describedObject:
                                  description: describedObject specifies the descriptions
                                    of a object,such as kind,name apiVersion
                                  properties:
                                    apiVersion:
                                      description: apiVersion is the API version of
                                        the referent
                                      type: string
                                    kind:
                                      description: 'kind is the kind of the referent;
                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                      type: string
                                    name:
                                      description: 'name is the name of the referent;
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                      type: string
                                  required:
                                  - kind
                                  - name
                                  type: object
                                metric:
                                  description: metric identifies the target metric
                                    by name and selector
                                  properties:
                                    name:
                                      description: name is the name of the given metric
                                      type: string
                                    selector:
                                      description: |-
                                        selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                        When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                        When unset, just the metricName will be used to gather metrics.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                  required:
                                  - name
                                  type: object
                                target:
                                  description: target specifies the target value for
                                    the given metric
                                  properties:
                                    averageUtilization:
                                      description: |-
                                        averageUtilization is the target value of the average of the
                                        resource metric across all relevant pods, represented as a percentage of
                                        the requested value of the resource for the pods.
                                        Currently only valid for Resource metric source type
                                      format: int32
                                      type: integer
                                    averageValue:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        averageValue is the target value of the average of the
                                        metric across all relevant pods (as a quantity)
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type:
                                      description: type represents whether the metric
                                        type is Utilization, Value, or AverageValue
                                      type: string
                                    value:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: value is the target value of the
                                        metric (as a quantity).
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - type
                                  type: object
                              required:
                              - describedObject
                              - metric
                              - target
                              type: object
                            pods:
                              description: |-
                                pods refers to a metric describing each pod in the current scale target
                                (for example, transactions-processed-per-second).  The values will be
                                averaged together before being compared to the target value.
                              properties:
                                metric:
                                  description: metric identifies the target metric
                                    by name and selector
                                  properties:
                                    name:
                                      description: name is the name of the given metric
                                      type: string
                                    selector:
                                      description: |-
                                        selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                        When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                        When unset, just the metricName will be used to gather metrics.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                  required:
                                  - name
                                  type: object
                                target:
                                  description: target specifies the target value for
                                    the given metric
                                  properties:
                                    averageUtilization:
                                      description: |-
                                        averageUtilization is the target value of the average of the
                                        resource metric across all relevant pods, represented as a percentage of
                                        the requested value of the resource for the pods.
                                        Currently only valid for Resource metric source type
                                      format: int32
                                      type: integer
                                    averageValue:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        averageValue is the target value of the average of the
                                        metric across all relevant pods (as a quantity)
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type:
                                      description: type represents whether the metric
                                        type is Utilization, Value, or AverageValue
                                      type: string
                                    value:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: value is the target value of the
                                        metric (as a quantity).
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - type
                                  type: object
                              required:
                              - metric
                              - target
                              type: object
                            resource:
                              description: |-
                                resource refers to a resource metric (such as those specified in
                                requests and limits) known to Kubernetes describing each pod in the
                                current scale target (e.g. CPU or memory). Such metrics are built in to
                                Kubernetes, and have special scaling options on top of those available
                                to normal per-pod metrics using the "pods" source.
                              properties:
                                name:
                                  description: name is the name of the resource in
                                    question.
                                  type: string
                                target:
                                  description: target specifies the target value for
                                    the given metric
                                  properties:
                                    averageUtilization:
                                      description: |-
                                        averageUtilization is the target value of the average of the
                                        resource metric across all relevant pods, represented as a percentage of
                                        the requested value of the resource for the pods.
                                        Currently only valid for Resource metric source type
                                      format: int32
                                      type: integer
                                    averageValue:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        averageValue is the target value of the average of the
                                        metric across all relevant pods (as a quantity)
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type:
                                      description: type represents whether the metric
                                        type is Utilization, Value, or AverageValue
                                      type: string
                                    value:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: value is the target value of the
                                        metric (as a quantity).
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - type
                                  type: object
                              required:
                              - name
                              - target
                              type: object
                            type:
                              description: |-
                                type is the type of metric source.  It should be one of "ContainerResource", "External",
                                "Object", "Pods" or "Resource", each mapping to a matching field in the object.
                              type: string
                          required:
                          - type
                          type: object
                        type: array
                        x-kubernetes-list-type: atomic
                      minReplicas:
                        description: |-
                          minReplicas is the lower limit for the number of replicas to which the autoscaler
                          can scale down.  It defaults to 1 pod.  minReplicas is allowed to be 0 if the
                          alpha feature gate HPAScaleToZero is enabled and at least one Object or External
                          metric is configured.  Scaling is active as long as at least one metric value is
                          available.
                        format: int32
                        type: integer
                      scaleTargetRef:
                        description: |-
                          scaleTargetRef points to the target resource to scale, and is used to the pods for which metrics
                          should be collected, as well as to actually change the replica count.
                        properties:
                          apiVersion:
                            description: apiVersion is the API version of the referent
                            type: string
                          kind:
                            description: 'kind is the kind of the referent; More info:
                              https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                            type: string
                          name:
                            description: 'name is the name of the referent; More info:
                              https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                    required:
                    - maxReplicas
                    type: object
                  enabled:
                    default: false
                    description: Enable HPA for the gateway deployment
                    type: boolean
                type: object
              image:
                default: ghcr.io/inference-gateway/inference-gateway:latest
                description: Image is the container image to use for the gateway deployment
                type: string
              ingress:
                description: Ingress configuration
                properties:
                  annotations:
                    additionalProperties:
                      type: string
                    description: Ingress annotations
                    type: object
                  className:
                    description: Ingress class name
                    type: string
                  enabled:
                    default: false
                    description: Enable ingress
                    type: boolean
                  host:
                    description: |-
                      Simple host configuration (alternative to hosts array)
                      When specified, this will be used as the primary host with automatic TLS and path configuration
                    type: string
                  hosts:
                    description: |-
                      Ingress hosts configuration (advanced usage)
                      Use 'host' field for simple single-host configuration
                    items:
                      description: IngressHost contains ingress host configuration
                      properties:
                        host:
                          description: Host name
                          type: string
                        paths:
                          description: Paths configuration
                          items:
                            description: IngressPath contains ingress path configuration
                            properties:
                              path:
                                description: Path
                                type: string
                              pathType:
                                default: Prefix
                                description: Path type
                                enum:
                                - Exact
                                - Prefix
                                - ImplementationSpecific
                                type: string
                            required:
                            - path
                            type: object
                          type: array
                      required:
                      - host
                      type: object
                    type: array
                  tls:
                    description: TLS configuration
                    properties:
                      config:
                        description: Advanced TLS configuration (alternative to simple
                          config above)
                        items:
                          description: IngressTLS contains ingress TLS configuration
                          properties:
                            hosts:
                              description: Hosts covered by the certificate
                              items:
                                type: string
                              type: array
                            secretName:
                              description: Secret name containing TLS certificate
                              type: string
                          required:
                          - secretName
                          type: object
                        type: array
                      enabled:
                        default: true
                        description: Enable TLS for ingress
                        type: boolean
                      issuer:
                        description: |-
                          Certificate issuer for cert-manager (automatically sets annotation)
                          Examples: "letsencrypt-prod", "letsencrypt-staging", "selfsigned-issuer"
                        type: string
                      secretName:
                        description: Secret name for TLS certificate (auto-generated
                          if not specified)
                        type: string
                    type: object
                type: object
              mcp:
                description: MCP (Model Context Protocol) configuration
                properties:
                  enabled:
                    default: false
                    description: Enable MCP integration
                    type: boolean
                  expose:
                    default: false
                    description: Expose MCP endpoints externally
                    type: boolean
                  servers:
                    description: MCP servers configuration
                    items:
                      description: MCPServer contains MCP server configuration
                      properties:
                        healthCheck:
                          description: Health check configuration
                          properties:
                            enabled:
                              default: true
                              description: Enable health checks
                              type: boolean
                            interval:
                              default: 30s
                              description: Health check interval
                              type: string
                            path:
                              default: /health
                              description: Health check path
                              type: string
                          type: object
                        name:
                          description: Server name
                          type: string
                        url:
                          description: Server URL
                          type: string
                      required:
                      - name
                      - url
                      type: object
                    type: array
                  timeouts:
                    description: MCP client timeouts
                    properties:
                      client:
                        default: 10s
                        description: Client timeout
                        type: string
                      dial:
                        default: 5s
                        description: Dial timeout
                        type: string
                      request:
                        default: 10s
                        description: Request timeout
                        type: string
                      responseHeader:
                        default: 5s
                        description: Response header timeout
                        type: string
                      tlsHandshake:
                        default: 5s
                        description: TLS handshake timeout
                        type: string
                    type: object
                type: object
              providers:
                description: Provider configurations for AI/ML backends
                items:
                  description: ProviderSpec contains configuration for a specific
                    provider
                  properties:
                    enabled:
                      default: true
                      description: Enable provider
                      type: boolean
                    env:
                      description: Environment variables for the provider
                      items:
                        description: EnvVar represents an environment variable present
                          in a Container.
                        properties:
                          name:
                            description: Name of the environment variable. Must be
                              a C_IDENTIFIER.
                            type: string
                          value:
                            description: |-
                              Variable references $(VAR_NAME) are expanded
                              using the previously defined environment variables in the container and
                              any service environment variables. If a variable cannot be resolved,
                              the reference in the input string will be unchanged. Double $$ are reduced
                              to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                              "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                              Escaped references will never be expanded, regardless of whether the variable
                              exists or not.
                              Defaults to "".
                            type: string
                          valueFrom:
                            description: Source for the environment variable's value.
                              Cannot be used if value is not empty.
                            properties:
                              configMapKeyRef:
                                description: Selects a key of a ConfigMap.
                                properties:
                                  key:
                                    description: The key to select.
                                    type: string
                                  name:
                                    default: ""
                                    description: |-
                                      Name of the referent.
                                      This field is effectively required, but due to backwards compatibility is
                                      allowed to be empty. Instances of this type with an empty value here are
                                      almost certainly wrong.
                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                    type: string
                                  optional:
                                    description: Specify whether the ConfigMap or
                                      its key must be defined
                                    type: boolean
                                required:
                                - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                description: |-
                                  Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                  spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                properties:
                                  apiVersion:
                                    description: Version of the schema the FieldPath
                                      is written in terms of, defaults to "v1".
                                    type: string
                                  fieldPath:
                                    description: Path of the field to select in the
                                      specified API version.
                                    type: string
                                required:
                                - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                description: |-
                                  Selects a resource of the container: only resources limits and requests
                                  (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                properties:
                                  containerName:
                                    description: 'Container name: required for volumes,
                                      optional for env vars'
                                    type: string
                                  divisor:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: Specifies the output format of the
                                      exposed resources, defaults to "1"
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    description: 'Required: resource to select'
                                    type: string
                                required:
                                - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                description: Selects a key of a secret in the pod's
                                  namespace
                                properties:
                                  key:
                                    description: The key of the secret to select from.  Must
                                      be a valid secret key.
                                    type: string
                                  name:
                                    default: ""
                                    description: |-
                                      Name of the referent.
                                      This field is effectively required, but due to backwards compatibility is
                                      allowed to be empty. Instances of this type with an empty value here are
                                      almost certainly wrong.
                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                    type: string
                                  optional:
                                    description: Specify whether the Secret or its
                                      key must be defined
                                    type: boolean
                                required:
                                - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                        - name
                        type: object
                      type: array
                    name:
                      description: Name of the secret
                      type: string
                  required:
                  - name
                  type: object
                type: array
              replicas:
                default: 1
                description: Replicas is the number of gateway instances to run
                format: int32
                maximum: 100
                minimum: 1
                type: integer
              resources:
                description: Resource requirements for the gateway pods
                properties:
                  limits:
                    description: Resource limits
                    properties:
                      cpu:
                        description: CPU resource specification
                        type: string
                      memory:
                        description: Memory resource specification
                        type: string
                    type: object
                  requests:
                    description: Resource requests
                    properties:
                      cpu:
                        description: CPU resource specification
                        type: string
                      memory:
                        description: Memory resource specification
                        type: string
                    type: object
                type: object
              server:
                description: Server configuration
                properties:
                  host:
                    default: 0.0.0.0
                    description: Server host
                    type: string
                  port:
                    default: 8080
                    description: Server port
                    format: int32
                    maximum: 65535
                    minimum: 1024
                    type: integer
                  timeouts:
                    description: Server timeouts
                    properties:
                      idle:
                        default: 300s
                        description: Idle timeout
                        type: string
                      read:
                        default: 60s
                        description: Read timeout
                        type: string
                      write:
                        default: 60s
                        description: Write timeout
                        type: string
                    type: object
                  tls:
                    description: TLS configuration
                    properties:
                      certificateRef:
                        description: Reference to a secret containing the TLS certificate
                        properties:
                          key:
                            description: The key of the secret to select from.  Must
                              be a valid secret key.
                            type: string
                          name:
                            default: ""
                            description: |-
                              Name of the referent.
                              This field is effectively required, but due to backwards compatibility is
                              allowed to be empty. Instances of this type with an empty value here are
                              almost certainly wrong.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            type: string
                          optional:
                            description: Specify whether the Secret or its key must
                              be defined
                            type: boolean
                        required:
                        - key
                        type: object
                        x-kubernetes-map-type: atomic
                      enabled:
                        default: false
                        description: Enable TLS
                        type: boolean
                      keyRef:
                        description: Reference to a secret containing the TLS private
                          key
                        properties:
                          key:
                            description: The key of the secret to select from.  Must
                              be a valid secret key.
                            type: string
                          name:
                            default: ""
                            description: |-
                              Name of the referent.
                              This field is effectively required, but due to backwards compatibility is
                              allowed to be empty. Instances of this type with an empty value here are
                              almost certainly wrong.
                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            type: string
                          optional:
                            description: Specify whether the Secret or its key must
                              be defined
                            type: boolean
                        required:
                        - key
                        type: object
                        x-kubernetes-map-type: atomic
                    type: object
                type: object
              service:
                description: Service configuration
                properties:
                  annotations:
                    additionalProperties:
                      type: string
                    description: Service annotations
                    type: object
                  port:
                    default: 8080
                    description: Service port
                    format: int32
                    maximum: 65535
                    minimum: 1
                    type: integer
                  type:
                    default: ClusterIP
                    description: Service type
                    enum:
                    - ClusterIP
                    - NodePort
                    - LoadBalancer
                    - ExternalName
                    type: string
                type: object
              telemetry:
                description: Telemetry configuration for observability
                properties:
                  enabled:
                    default: false
                    description: Enable telemetry collection
                    type: boolean
                  metrics:
                    default:
                      enabled: false
                      port: 9464
                    description: Metrics configuration
                    properties:
                      enabled:
                        default: false
                        description: Enable metrics collection
                        type: boolean
                      port:
                        default: 9464
                        description: Port for metrics endpoint
                        format: int32
                        maximum: 65535
                        minimum: 1024
                        type: integer
                    type: object
                type: object
            type: object
          status:
            description: GatewayStatus defines the observed state of Gateway.
            properties:
              availableReplicas:
                description: Current number of available replicas
                format: int32
                type: integer
              conditions:
                description: Current deployment conditions
                items:
                  description: GatewayCondition represents a condition of a Gateway
                    deployment
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned
                      format: date-time
                      type: string
                    message:
                      description: Human readable message indicating details about
                        last transition
                      type: string
                    reason:
                      description: Reason for the condition's last transition
                      type: string
                    status:
                      description: Status of the condition (True, False, Unknown)
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: Type of Gateway condition
                      enum:
                      - Available
                      - Progressing
                      - ReplicaFailure
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              message:
                description: Message provides additional information about the current
                  state
                type: string
              observedGeneration:
                description: ObservedGeneration is the most recent generation observed
                format: int64
                type: integer
              phase:
                description: Phase represents the current phase of the Gateway
                enum:
                - Pending
                - Running
                - Failed
                - Unknown
                type: string
              providerSummary:
                description: ProviderSummary is a comma-separated list of provider
                  names
                type: string
              readyReplicas:
                description: Current number of ready replicas
                format: int32
                type: integer
              url:
                description: |-
                  URL presents the address the gateway can be accessed at
                  If ingress is enabled, it will use the host from the ingress configuration
                  otherwise it will use the service URL
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
